<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="Description" content="Enter your description here"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="/static/css/style.css">
<title>Title</title>
</head>
<style>
.farmers-container {
    padding: 40px;
    width: 100%;
    max-width: 1200px;
    margin: auto;
}

.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding: 10px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    border-radius: 8px;
    color: white;
}

.page-header-content h2 {
    margin: 0 0 8px 0;
    font-size: 20px;
    font-weight: 700;
}

.page-header-content p {
    margin: 0;
    opacity: 0.9;
    font-size: 15px;
    
}

.back-button {
    display: inline-flex;
    align-items: center;
    /* gap: 8px; */
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 10px 16px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.back-button:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateX(-2px);
}

.btn-add {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 10px 16px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 15px;
    transition: 0.3s;
    border: 1px solid rgba(255, 255, 255, 0.3);
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 500;
}

.btn-add:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
}

.search-box {
    margin-bottom: 20px;
}

.search-box input {
    width: 100%;
    padding: 12px 16px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 15px;
}

.empty-state {
    text-align: center;
    padding: 50px;
    color: #555;
}

.empty-state .icon {
    font-size: 50px;
    margin-bottom: 10px;
}
</style>
<body>
<div class="farmers-container">

    <div class="page-header">
        <div class="page-header-content">
            <h2>Registered Farmers</h2>
            <p>Manage farmers and their property details</p>
        </div>
        <div style="display: flex; gap: 12px;">
            <a href="{% url 'dashboard' %}" class="back-button">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
            <a href="{% url 'add_farmer' %}" class="btn-add">
                <i class="fas fa-plus"></i> Add Farmer
            </a>
        </div>
    </div>

    <form method="GET" class="search-box">
        <input type="text" name="search" placeholder="Search by name or phone..."
               value="{{ search_query }}">
    </form>

    {% if farmers %}
    <div class="bg-white rounded-lg shadow overflow-hidden">
        <table class="min-w-full">
            <thead style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white;">
                <tr>
                    <th class="px-6 py-4 text-left font-bold text-sm">Farmer ID</th>
                    <th class="px-6 py-4 text-left font-bold text-sm">Name</th>
                    <th class="px-6 py-4 text-left font-bold text-sm">Phone</th>
                    <th class="px-6 py-4 text-left font-bold text-sm">Total Farms</th>
                    <th class="px-6 py-4 text-left font-bold text-sm">Total Acreage</th>
                    <th class="px-6 py-4 text-left font-bold text-sm">Location</th>
                    <th class="px-6 py-4 text-left font-bold text-sm">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for farmer in farmers %}
                <tr style="border-bottom: 1px solid #e8e8e8; transition: all 0.2s;" onmouseover="this.style.backgroundColor='#f0fdf4'; this.style.boxShadow='0 2px 8px rgba(16, 185, 129, 0.1)';" onmouseout="this.style.backgroundColor='white'; this.style.boxShadow='none';">
                    <td class="px-6 py-5 whitespace-nowrap">
                        <div class="text-base font-medium text-gray-900">{{ farmer.farmer_id|default:"N/A" }}</div>
                    </td>
                    <td class="px-6 py-5 whitespace-nowrap">
                        <a href="{% url 'farmer_details' farmer.id %}" class="text-base font-semibold text-emerald-600 hover:text-emerald-900">
                            {{ farmer.name }}
                        </a>
                    </td>
                    <td class="px-6 py-5 whitespace-nowrap">
                        <div class="text-base font-medium text-gray-900">{{ farmer.phone }}</div>
                    </td>
                    <td class="px-6 py-5 whitespace-nowrap">
                        <div class="text-base font-medium text-gray-900">{{ farmer.total_farms }}</div>
                    </td>
                    <td class="px-6 py-5 whitespace-nowrap">
                        <div class="text-base font-medium text-gray-900">{{ farmer.total_acreage }} acres</div>
                    </td>
                    <td class="px-6 py-5 whitespace-nowrap">
                        <div class="text-base font-medium text-gray-900">{% if farmer.farms.first %}{{ farmer.farms.first.location }}{% else %}<span class="text-gray-400">No location</span>{% endif %}</div>
                    </td>
                    <td class="px-6 py-5 whitespace-nowrap text-base font-medium">
                        <a href="{% url 'farmer_details' farmer.id %}" class="text-emerald-600 hover:text-emerald-900 font-semibold" title="View Details">
                            <i class="fas fa-eye"></i> View
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    {% else %}
    <div class="bg-white rounded-lg shadow p-8 text-center">
        <i class="fas fa-users text-gray-400 text-6xl mb-4"></i>
        <h3 class="text-xl font-semibold text-gray-900 mb-2">No Farmers Found</h3>
        <p class="text-gray-600 mb-4">
            {% if search_query %}
                Try a different search term
            {% else %}
                Start by adding your first farmer
            {% endif %}
        </p>
        <a href="{% url 'add_farmer' %}" class="bg-emerald-500 text-white px-6 py-3 rounded hover:bg-emerald-600">
            <i class="fas fa-plus mr-2"></i>Add First Farmer
        </a>
    </div>
    {% endif %}
</div>

    

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>